<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Riches Dashboard â€” Console & Wallet</title>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
:root{
  --bg:#f5f7fb; --card:#fff; --muted:#6b7280; --accent:#1a73e8;
  --accent-2:#0b5bd7; --success:#16a34a; --danger:#ea4335; --radius:12px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  --max-width:1200px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#eef2ff 0%,var(--bg) 100%);color:#0f1724;-webkit-font-smoothing:antialiased}
.container{max-width:var(--max-width);margin:0 auto;padding:18px}
.app{display:flex;gap:18px;min-height:80vh;align-items:flex-start}
.sidebar{width:260px;background:linear-gradient(180deg,#fff,#fbfdff);border-radius:var(--radius);padding:18px;border:1px solid #e6eef8;display:flex;flex-direction:column;gap:12px;box-shadow:0 6px 18px rgba(11,20,45,0.04)}
.brand{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--accent)}
.logo{width:38px;height:38px;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-family:var(--mono)}
.subtitle{font-size:13px;color:var(--muted)}
.nav{display:flex;flex-direction:column;gap:6px;margin-top:4px}
.nav button{background:transparent;border:none;text-align:left;padding:10px;border-radius:8px;cursor:pointer;font-weight:700;color:#0f1724}
.nav button.small{font-weight:600;color:var(--muted);font-size:13px}
.nav button.active{background:linear-gradient(90deg, rgba(26,115,232,0.08), rgba(26,115,232,0.02));color:var(--accent)}
.sidebar .small{font-size:12px;color:var(--muted)}
.footer{margin-top:auto;font-size:12px;color:var(--muted)}

/* main */
.main{flex:1;display:flex;flex-direction:column;gap:14px}
.topbar{display:flex;align-items:center;gap:12px}
.property{display:flex;align-items:center;gap:12px;background:var(--card);padding:10px 12px;border-radius:10px;border:1px solid #eef4ff;box-shadow:0 1px 3px rgba(12,18,28,0.03)}
.property .name{font-weight:800}
.controls{margin-left:auto;display:flex;gap:8px;align-items:center}
.btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
.btn.ghost{background:transparent;border:1px solid rgba(13,110,253,0.12);color:var(--accent)}
.btn.small{padding:6px 8px;font-size:14px}

/* cards */
.cards{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.card{background:var(--card);padding:14px;border-radius:10px;border:1px solid #eef4ff;box-shadow:0 1px 6px rgba(12,18,28,0.03)}
.metric{font-size:20px;font-weight:800}
.metric-sub{font-size:13px;color:var(--muted);margin-top:6px}
.delta{font-size:13px;margin-left:8px}
/* mini-sparkline canvas inside cards */
.card canvas.sparkline{width:100%;height:40px;margin-top:6px;}

/* content */
.content{display:grid;grid-template-columns:2fr 1fr;gap:12px}
.panel{background:var(--card);padding:14px;border-radius:10px;border:1px solid #eef4ff}
.panel h3{margin:0 0 12px 0;font-size:16px}
.muted{color:var(--muted)}
.small{font-size:13px;color:var(--muted)}
.chart-wrap{height:320px}

/* tables */
table{width:100%;border-collapse:collapse;font-size:14px}
thead th{font-weight:700;text-align:left;color:var(--muted);padding:8px 6px;border-bottom:1px dashed #eef2ff}
tbody td{padding:10px 6px;border-bottom:1px solid #f5f8fb}
.badge{display:inline-block;background:#f3f9f5;color:var(--success);padding:6px 8px;border-radius:999px;font-weight:700;font-size:13px}

/* wallet */
.wallet-header{display:flex;align-items:center;gap:12px;justify-content:space-between}
.balance{font-size:28px;font-weight:800}
.tx-list{max-height:260px;overflow:auto}

/* modals */
.modal-backdrop{position:fixed;inset:0;background:rgba(11,20,45,0.45);display:none;align-items:center;justify-content:center;z-index:60}
.modal{background:var(--card);padding:18px;border-radius:12px;max-width:520px;width:92%;box-shadow:0 10px 40px rgba(11,20,45,0.12)}
.row{display:flex;gap:8px;margin-top:8px}
.close-x{margin-left:auto;border:none;background:transparent;font-size:18px;cursor:pointer}
.input-text{width:100%;padding:8px;border-radius:8px;border:1px solid #e6eef8}

/* news */
.news-list{max-height:260px;overflow:auto}
.news-item{padding:8px;border-bottom:1px solid #f4f7fb}
.news-item a{color:var(--accent);text-decoration:none;font-weight:700}

/* responsive */
@media (max-width:1000px){
  .sidebar{display:none}
  .cards{grid-template-columns:repeat(2,1fr)}
  .content{grid-template-columns:1fr;gap:10px}
}

/* dark mode */
body.dark{background:#0b1220;color:#e6eef8}
body.dark .card, body.dark .panel, body.dark .property, body.dark .sidebar, body.dark .modal{background:#0f1724;color:#e6eef8;border-color:#162032}
body.dark .muted{color:#93a4b9}
body.dark .nav button{color:#dbeafe}
body.dark .nav button.active{background:rgba(59,130,246,0.12);color:var(--accent)}
</style>
</head>
<body>
<div class="container">
  <div class="app" role="application" aria-label="Riches Dashboard">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Main navigation">
      <div class="brand" aria-hidden="true">
        <div class="logo">RD</div>
        <div>
          <div>Riches Dashboard</div>
          <div class="subtitle">Performance & Wallet</div>
        </div>
      </div>

      <nav class="nav" role="navigation" aria-label="Primary">
        <button class="active" data-view="home">Home</button>
        <button data-view="dashboard">Performance</button>
        <button data-view="wallet">Wallet</button>
        <button data-view="send">Send</button>
        <button data-view="receive">Receive</button>
        <button data-view="settings" class="small">Settings</button>
      </nav>

      <div class="small">Property</div>
      <div class="property" style="padding:10px">
        <div style="font-weight:700" id="siteName">example.com</div>
        <div class="muted" style="font-size:13px" id="siteStatus">Verified</div>
      </div>

      <div class="footer">Â© Riches Dashboard â€” demo app</div>
    </aside>

    <!-- Main -->
    <main class="main" id="mainArea">
      <div class="topbar" role="region" aria-label="Topbar">
        <div class="property" aria-hidden="true">
          <div style="display:flex;flex-direction:column">
            <div class="name" id="pageTitle">Home</div>
            <div class="muted small">Overview & news</div>
          </div>
        </div>

        <div class="controls" role="toolbar" aria-label="Controls">
          <select id="range" class="input-text" style="width:170px">
            <option value="7">Last 7 days</option>
            <option value="28" selected>Last 28 days</option>
            <option value="90">Last 90 days</option>
            <option value="365">Last 12 months</option>
          </select>
          <button class="btn small" id="themeToggle" title="Toggle theme">ðŸŒ™</button>
          <button class="btn small" id="refreshBtn">Refresh</button>
          <button class="btn ghost small" id="exportBtn">Export CSV</button>
          <button class="btn ghost small" id="verifyBtn">Verify site</button>
        </div>
      </div>

      <!-- HOME -->
      <section id="view-home" class="panel" aria-live="polite">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="flex:1">
            <h3>Overview</h3>
            <p class="muted">Performance snapshot & wallet balance</p>
          </div>
          <div style="display:flex;gap:12px;align-items:center">
            <div style="text-align:right">
              <div class="muted small">Wallet balance</div>
              <div class="balance" id="homeBalance">â‚¦0.00</div>
            </div>
            <div>
              <button class="btn" onclick="openReceive()">Receive</button>
              <button class="btn ghost" onclick="openSend()">Send</button>
            </div>
          </div>
        </div>

        <div class="cards" style="margin-top:12px">
          <div class="card">
            <div class="metric" id="m-clicks">0</div>
            <div class="metric-sub">Clicks <span id="d-clicks" class="delta"></span></div>
            <canvas class="sparkline" id="spark-clicks"></canvas>
          </div>
          <div class="card">
            <div class="metric" id="m-impr">0</div>
            <div class="metric-sub">Impressions <span id="d-impr" class="delta"></span></div>
            <canvas class="sparkline" id="spark-impr"></canvas>
          </div>
          <div class="card">
            <div class="metric" id="m-ctr">0%</div>
            <div class="metric-sub">Avg CTR <span id="d-ctr" class="delta"></span></div>
            <canvas class="sparkline" id="spark-ctr"></canvas>
          </div>
          <div class="card">
            <div class="metric" id="m-pos">0.0</div>
            <div class="metric-sub">Avg position <span id="d-pos" class="delta"></span></div>
            <canvas class="sparkline" id="spark-pos"></canvas>
          </div>
        </div>

        <div style="display:grid;grid-template-columns:2fr 1fr;gap:12px;margin-top:12px">
          <div class="panel">
            <h4>Performance (chart)</h4>
            <div class="chart-wrap">
              <canvas id="homeChart"></canvas>
            </div>
          </div>

          <aside class="panel">
            <h4>Latest news</h4>
            <div id="newsList" class="news-list">
              <!-- clickable Google News link inserted here -->
              <div class="news-item">
                <a href="https://news.google.com/home?hl=en-NG&gl=NG&ceid=NG:en" target="_blank" rel="noopener noreferrer">
                  Open Google News (Nigeria)
                </a>
                <div class="muted small">Click to open the official Google News page in a new tab</div>
              </div>
            </div>
            <div style="margin-top:8px">
              <small class="muted">Tip: You can add a News API key in Settings for additional headlines.</small>
            </div>
          </aside>
        </div>
      </section>

      <!-- DASHBOARD -->
      <section id="view-dashboard" class="panel hidden">
        <h3>Search Console â€” Performance</h3>
        <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px">
          <div class="small muted">Metric</div>
          <select id="metricSelect" class="input-text" style="width:150px">
            <option value="clicks">Clicks</option>
            <option value="impressions">Impressions</option>
            <option value="ctr">CTR</option>
            <option value="position">Position</option>
          </select>
          <div style="margin-left:auto" class="small muted" id="sourceNote">Live (simulated)</div>
        </div>

        <div class="chart-wrap">
          <canvas id="dashChart"></canvas>
        </div>

        <div style="margin-top:14px">
          <h4>Top queries</h4>
          <div style="overflow:auto;max-height:180px">
            <table>
              <thead><tr><th>Query</th><th>Clicks</th><th>Impressions</th><th>CTR</th></tr></thead>
              <tbody id="dashQueries"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- WALLET -->
      <section id="view-wallet" class="panel hidden">
        <div class="wallet-header">
          <div>
            <div class="muted small">Available balance</div>
            <div class="balance" id="walletBalance">â‚¦0.00</div>
          </div>
          <div>
            <button class="btn" onclick="openReceive()">Receive</button>
            <button class="btn ghost" onclick="openSend()">Send</button>
          </div>
        </div>

        <div style="margin-top:12px" class="panel">
          <h4>Transaction History</h4>
          <div class="tx-list">
            <table>
              <thead><tr><th>Date</th><th>Type</th><th>Amount</th><th>Note</th></tr></thead>
              <tbody id="txTbody"></tbody>
            </table>
          </div>
          <div style="margin-top:8px">
            <button class="btn ghost" id="exportTx">Export transactions</button>
          </div>
        </div>
      </section>

      <!-- SEND -->
      <section id="view-send" class="panel hidden">
        <h3>Send funds</h3>
        <form id="sendForm">
          <label>Recipient address</label>
          <input id="sendTo" class="input-text" placeholder="enter address or email"/><br/>
          <label>Amount</label>
          <input id="sendAmount" type="number" class="input-text" placeholder="0.00"/><br/>
          <label>Note (optional)</label>
          <input id="sendNote" class="input-text" placeholder="Purpose"/><br/>
          <div style="margin-top:8px">
            <button type="submit" class="btn">Send</button>
          </div>
          <div id="sendMsg" style="color:#c00;margin-top:8px"></div>
        </form>
      </section>

      <!-- RECEIVE -->
      <section id="view-receive" class="panel hidden">
        <h3>Receive funds</h3>
        <div>
          <p class="muted">Your receiving address:</p>
          <div style="padding:12px;background:#f8fafc;border-radius:8px;word-break:break-all" id="receiveAddress"></div>
          <div style="margin-top:12px">
            <button class="btn" id="copyAddr">Copy address</button>
          </div>
        </div>
      </section>

      <!-- SETTINGS -->
      <section id="view-settingsPanel" class="panel hidden">
        <h3>Settings</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div>
            <label>Display name</label>
            <input id="profileName" class="input-text" placeholder="Your name"/><br/><br/>
            <label>Email</label>
            <input id="profileEmail" class="input-text" placeholder="you@example.com"/><br/><br/>
            <button class="btn" id="saveProfile">Save profile</button>
          </div>
          <div>
            <label>News API key (optional)</label>
            <input id="newsKey" class="input-text" placeholder="Paste NewsAPI.org key here"/><br/><br/>
            <small class="muted">If you add a NewsAPI key, the News widget will fetch headlines (optional).</small>
            <div style="margin-top:12px">
              <label>Theme</label>
              <select id="themeSelect" class="input-text">
                <option value="system">System default</option>
                <option value="light">Light</option>
                <option value="dark">Dark</option>
              </select><br/><br/>
              <label><input type="checkbox" id="verifiedToggle"/> Site verified</label>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>

<script>
// ------------------ STATE ------------------
let walletBalance = 5000000; // initial balance in Naira
let transactions = [];
let homeMetrics = { clicks: 1200, impressions: 5400, ctr: 22.3, position: 4.6 };

// ------------------ DOM ------------------
const views = {
  home: document.getElementById('view-home'),
  dashboard: document.getElementById('view-dashboard'),
  wallet: document.getElementById('view-wallet'),
  send: document.getElementById('view-send'),
  receive: document.getElementById('view-receive'),
  settingsPanel: document.getElementById('view-settingsPanel')
};
const navButtons = document.querySelectorAll('.nav button');
const homeBalanceEl = document.getElementById('homeBalance');
const walletBalanceEl = document.getElementById('walletBalance');
const txTbody = document.getElementById('txTbody');

// ------------------ NAVIGATION ------------------
navButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    navButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    Object.values(views).forEach(v=>v.classList.add('hidden'));
    let viewKey = btn.dataset.view==='settings'?'settingsPanel':btn.dataset.view;
    views[viewKey].classList.remove('hidden');
    document.getElementById('pageTitle').textContent = btn.textContent;
  });
});

// ------------------ WALLET ------------------
function updateWalletDisplay(){
  homeBalanceEl.textContent = 'â‚¦'+walletBalance.toLocaleString();
  walletBalanceEl.textContent = 'â‚¦'+walletBalance.toLocaleString();
  renderTxTable();
}
function renderTxTable(){
  txTbody.innerHTML = '';
  transactions.slice().reverse().forEach(tx=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${tx.date}</td><td>${tx.type}</td><td>â‚¦${tx.amount.toLocaleString()}</td><td>${tx.note||'-'}</td>`;
    txTbody.appendChild(tr);
  });
}
function openSend(){navButtons.forEach(b=>b.classList.remove('active'));views.send.classList.remove('hidden');document.getElementById('pageTitle').textContent='Send';}
function openReceive(){navButtons.forEach(b=>b.classList.remove('active'));views.receive.classList.remove('hidden');document.getElementById('pageTitle').textContent='Receive';document.getElementById('receiveAddress').textContent='RD-'+Math.random().toString(36).substring(2,12).toUpperCase();}
updateWalletDisplay();

// ------------------ SEND FORM ------------------
document.getElementById('sendForm').addEventListener('submit',e=>{
  e.preventDefault();
  const amt=parseFloat(document.getElementById('sendAmount').value);
  if(isNaN(amt)||amt<=0){document.getElementById('sendMsg').textContent='Invalid amount';return;}
  if(amt>walletBalance){document.getElementById('sendMsg').textContent='Insufficient funds';return;}
  walletBalance-=amt;
  const note=document.getElementById('sendNote').value;
  transactions.push({date:new Date().toLocaleDateString(),type:'Sent',amount:amt,note});
  updateWalletDisplay();
  document.getElementById('sendMsg').textContent='Sent successfully!';
});

// ------------------ SPARKLINES ------------------
function generateSparkline(id,values,color){
  new Chart(document.getElementById(id),{
    type:'line',
    data:{labels:values.map((_,i)=>i),datasets:[{data:values,borderColor:color,fill:false,tension:0.4,pointRadius:0}]},
    options:{responsive:true,plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}}}
  });
}
generateSparkline('spark-clicks',[1100,1200,1150,1250,1230,1300,1200], '#1a73e8');
generateSparkline('spark-impr',[5000,5400,5200,5500,5300,5600,5400], '#0b5bd7');
generateSparkline('spark-ctr',[20,22,21,23,22,24,22], '#16a34a');
generateSparkline('spark-pos',[5,4.6,4.8,4.4,4.5,4.3,4.6], '#ea4335');

// ------------------ HOME CHART ------------------
const homeChartCtx = document.getElementById('homeChart').getContext('2d');
let homeChart = new Chart(homeChartCtx,{
  type:'line',
  data:{
    labels:['Day 1','Day 2','Day 3','Day 4','Day 5','Day 6','Day 7'],
    datasets:[{label:'Clicks',data:[1100,1200,1150,1250,1230,1300,1200],borderColor:'#1a73e8',backgroundColor:'rgba(26,115,232,0.1)',fill:true,tension:0.3}]
  },
  options:{
    responsive:true,
    animation:{duration:1200,easing:'easeOutQuart'},
    plugins:{legend:{display:true}},
    scales:{y:{beginAtZero:true}}
  }
});

// ------------------ DASHBOARD CHART ------------------
const dashChartCtx=document.getElementById('dashChart').getContext('2d');
let dashChart=new Chart(dashChartCtx,{
  type:'line',
  data:{
    labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
    datasets:[{label:'Clicks',data:[1000,1100,1200,1150,1300,1250,1400],borderColor:'#0b5bd7',backgroundColor:'rgba(11,91,215,0.1)',fill:true,tension:0.3}]
  },
  options:{
    responsive:true,
    animation:{duration:1000,easing:'easeInOutQuad'},
    scales:{y:{beginAtZero:true}}
  }
});
document.getElementById('metricSelect').addEventListener('change',(e)=>{
  const val=e.target.value;
  let data=[],label='',bg='';
  if(val==='clicks'){data=[1000,1100,1200,1150,1300,1250,1400];label='Clicks';bg='rgba(11,91,215,0.1)';}
  else if(val==='impressions'){data=[5000,5400,5200,5500,5300,5600,5400];label='Impressions';bg='rgba(26,115,232,0.1)';}
  else if(val==='ctr'){data=[20,22,21,23,22,24,22];label='CTR';bg='rgba(22,163,52,0.1)';}
  else{data=[5,4.6,4.8,4.4,4.5,4.3,4.6];label='Position';bg='rgba(234,67,53,0.1)';}
  dashChart.data.datasets[0].data=data;
  dashChart.data.datasets[0].label=label;
  dashChart.data.datasets[0].backgroundColor=bg;
  dashChart.update();
  populateDashQueries();
});

// ------------------ DASHBOARD TABLE ------------------
function populateDashQueries(){
  const tbody=document.getElementById('dashQueries');
  tbody.innerHTML='';
  for(let i=1;i<=7;i++){
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>Query ${i}</td><td>${Math.floor(Math.random()*500+50)}</td><td>${Math.floor(Math.random()*5000+500)}</td><td>${(Math.random()*25+5).toFixed(1)}%</td>`;
    tbody.appendChild(tr);
  }
}
populateDashQueries();

// ------------------ THEME ------------------
function applyTheme(theme){
  if(theme==='dark'){document.body.classList.add('dark');document.getElementById('themeToggle').textContent='â˜€ï¸';}
  else if(theme==='light'){document.body.classList.remove('dark');document.getElementById('themeToggle').textContent='ðŸŒ™';}
  else{if(window.matchMedia('(prefers-color-scheme:dark)').matches){document.body.classList.add('dark');document.getElementById('themeToggle').textContent='â˜€ï¸';}else{document.body.classList.remove('dark');document.getElementById('themeToggle').textContent='ðŸŒ™';}}
}
document.getElementById('themeToggle').addEventListener('click',()=>{
  if(document.body.classList.contains('dark')){applyTheme('light');}else{applyTheme('dark');}
});
applyTheme('system');

// ------------------ REFRESH ------------------
document.getElementById('refreshBtn').addEventListener('click',()=>location.reload());

// ------------------ COPY ADDRESS ------------------
document.getElementById('copyAddr').addEventListener('click',()=>{
  navigator.clipboard.writeText(document.getElementById('receiveAddress').textContent);
  alert('Address copied!');
});
</script>
</body>
</html>
