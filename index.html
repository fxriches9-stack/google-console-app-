<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Riches Dashboard — Console & Wallet</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
:root{
  --bg:#f5f7fb; --card:#fff; --muted:#6b7280; --accent:#1a73e8;
  --accent-2:#0b5bd7; --success:#16a34a; --danger:#ea4335; --radius:12px;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
  --max-width:1200px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#eef2ff 0%,var(--bg) 100%);color:#0f1724;-webkit-font-smoothing:antialiased}
.container{max-width:var(--max-width);margin:0 auto;padding:18px}
.app{display:flex;gap:18px;min-height:80vh;align-items:flex-start}
.sidebar{width:260px;background:linear-gradient(180deg,#fff,#fbfdff);border-radius:var(--radius);padding:18px;border:1px solid #e6eef8;display:flex;flex-direction:column;gap:12px;box-shadow:0 6px 18px rgba(11,20,45,0.04)}
.brand{display:flex;align-items:center;gap:10px;font-weight:700;color:var(--accent)}
.logo{width:38px;height:38px;background:linear-gradient(135deg,var(--accent),var(--accent-2));border-radius:8px;display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-family:var(--mono)}
.subtitle{font-size:13px;color:var(--muted)}
.nav{display:flex;flex-direction:column;gap:6px;margin-top:4px}
.nav button{background:transparent;border:none;text-align:left;padding:10px;border-radius:8px;cursor:pointer;font-weight:700;color:#0f1724}
.nav button.small{font-weight:600;color:var(--muted);font-size:13px}
.nav button.active{background:linear-gradient(90deg, rgba(26,115,232,0.08), rgba(26,115,232,0.02));color:var(--accent)}
.sidebar .small{font-size:12px;color:var(--muted)}
.footer{margin-top:auto;font-size:12px;color:var(--muted)}

.main{flex:1;display:flex;flex-direction:column;gap:14px}
.topbar{display:flex;align-items:center;gap:12px}
.property{display:flex;align-items:center;gap:12px;background:var(--card);padding:10px 12px;border-radius:10px;border:1px solid #eef4ff;box-shadow:0 1px 3px rgba(12,18,28,0.03)}
.property .name{font-weight:800}
.controls{margin-left:auto;display:flex;gap:8px;align-items:center}
.btn{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
.btn.ghost{background:transparent;border:1px solid rgba(13,110,253,0.12);color:var(--accent)}
.btn.small{padding:6px 8px;font-size:14px}

.cards{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.card{background:var(--card);padding:12px;border-radius:10px;border:1px solid #eef4ff;box-shadow:0 1px 6px rgba(12,18,28,0.03);cursor:pointer;position:relative}
.card canvas{position:absolute;top:0;left:0;width:100%;height:50px;border-radius:8px;opacity:0.2;pointer-events:none}
.metric{font-size:20px;font-weight:800;position:relative;z-index:1}
.metric-sub{font-size:13px;color:var(--muted);margin-top:6px;position:relative;z-index:1}
.delta{font-size:13px;margin-left:8px;position:relative;z-index:1}

.content{display:grid;grid-template-columns:2fr 1fr;gap:12px;margin-top:12px}
.panel{background:var(--card);padding:14px;border-radius:10px;border:1px solid #eef4ff}
.panel h3,h4{margin:0 0 12px 0;font-size:16px}
.muted{color:var(--muted)}
.small{font-size:13px;color:var(--muted)}
.chart-wrap{height:320px}

table{width:100%;border-collapse:collapse;font-size:14px}
thead th{font-weight:700;text-align:left;color:var(--muted);padding:8px 6px;border-bottom:1px dashed #eef2ff}
tbody td{padding:10px 6px;border-bottom:1px solid #f5f8fb}
.badge{display:inline-block;background:#f3f9f5;color:var(--success);padding:6px 8px;border-radius:999px;font-weight:700;font-size:13px}

.wallet-header{display:flex;align-items:center;gap:12px;justify-content:space-between}
.balance{font-size:28px;font-weight:800}
.tx-list{max-height:260px;overflow:auto}

.modal-backdrop{position:fixed;inset:0;background:rgba(11,20,45,0.45);display:none;align-items:center;justify-content:center;z-index:60}
.modal{background:var(--card);padding:18px;border-radius:12px;max-width:520px;width:92%;box-shadow:0 10px 40px rgba(11,20,45,0.12)}
.row{display:flex;gap:8px;margin-top:8px}
.close-x{margin-left:auto;border:none;background:transparent;font-size:18px;cursor:pointer}
.input-text{width:100%;padding:8px;border-radius:8px;border:1px solid #e6eef8}

.news-list{max-height:260px;overflow:auto}
.news-item{padding:8px;border-bottom:1px solid #f4f7fb}
.news-item a{color:var(--accent);text-decoration:none;font-weight:700}
</style>
</head>
<body>
<div class="container">
  <div class="app">
    <aside class="sidebar">
      <div class="brand">
        <div class="logo">RD</div>
        <div>
          <div>Riches Dashboard</div>
          <div class="subtitle">Performance & Wallet</div>
        </div>
      </div>
      <nav class="nav">
        <button class="active" data-view="home">Home</button>
        <button data-view="dashboard">Performance</button>
        <button data-view="wallet">Wallet</button>
        <button data-view="send">Send</button>
        <button data-view="receive">Receive</button>
        <button data-view="settings" class="small">Settings</button>
      </nav>
      <div class="small">Property</div>
      <div class="property">
        <div style="font-weight:700" id="siteName">example.com</div>
        <div class="muted small" id="siteStatus">Verified</div>
      </div>
      <div class="footer">© Riches Dashboard — demo app</div>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="property">
          <div style="display:flex;flex-direction:column">
            <div class="name" id="pageTitle">Home</div>
            <div class="muted small">Overview & news</div>
          </div>
        </div>
        <div class="controls">
          <select id="range" class="input-text" style="width:170px">
            <option value="7">Last 7 days</option>
            <option value="28" selected>Last 28 days</option>
            <option value="90">Last 90 days</option>
            <option value="365">Last 12 months</option>
          </select>
          <button class="btn small" id="refreshBtn">Refresh</button>
        </div>
      </div>

      <!-- HOME -->
      <section id="view-home" class="panel">
        <div style="display:flex;gap:12px;align-items:center;justify-content:space-between">
          <div>
            <h3>Overview</h3>
            <p class="muted">Performance snapshot & wallet balance</p>
          </div>
          <div style="text-align:right">
            <div class="muted small">Wallet balance</div>
            <div class="balance" id="homeBalance">₦0.00</div>
          </div>
        </div>

        <div class="cards" style="margin-top:12px">
          <div class="card" onclick="selectMetric('clicks')">
            <canvas id="spark-clicks"></canvas>
            <div class="metric" id="m-clicks">0</div>
            <div class="metric-sub">Clicks <span id="d-clicks" class="delta"></span></div>
          </div>
          <div class="card" onclick="selectMetric('impressions')">
            <canvas id="spark-impr"></canvas>
            <div class="metric" id="m-impr">0</div>
            <div class="metric-sub">Impressions <span id="d-impr" class="delta"></span></div>
          </div>
          <div class="card" onclick="selectMetric('ctr')">
            <canvas id="spark-ctr"></canvas>
            <div class="metric" id="m-ctr">0%</div>
            <div class="metric-sub">Avg CTR <span id="d-ctr" class="delta"></span></div>
          </div>
          <div class="card" onclick="selectMetric('position')">
            <canvas id="spark-pos"></canvas>
            <div class="metric" id="m-pos">0.0</div>
            <div class="metric-sub">Avg Position <span id="d-pos" class="delta"></span></div>
          </div>
        </div>

        <div class="panel" style="margin-top:12px">
          <h4>Performance Chart</h4>
          <div class="chart-wrap">
            <canvas id="homeChart"></canvas>
          </div>
        </div>
      </section>
    </main>
  </div>
</div>

<script>
const state = {
  wallet: { balance: 5000000, transactions: [] },
  homeData: { clicks: [], impressions: [], ctr: [], position: [] }
};

const $ = id => document.getElementById(id);
const formatNaira = n => '₦'+Number(n).toLocaleString();
let homeChart=null;
let sparkCharts={};

function generatePerformance(days=28){
  const clicks=[],impr=[],ctr=[],pos=[];
  for(let i=0;i<days;i++){
    const c=Math.floor(Math.random()*1000+100);
    const i2=Math.floor(Math.random()*5000+1000);
    clicks.push(c);
    impr.push(i2);
    ctr.push(+(c/i2*100).toFixed(2));
    pos.push(+(Math.random()*10+1).toFixed(2));
  }
  state.homeData={clicks,impr,ctr,pos};
}

function updateCards(){
  const metrics=['clicks','impressions','ctr','position'];
  metrics.forEach(m=>{
    const arr=state.homeData[m];
    const last=arr[arr.length-1]||0;
    const prev=arr[arr.length-2]||0;
    const delta=last-prev;
    $(m==='clicks'?'m-clicks':m==='impressions'?'m-impr':m==='ctr'?'m-ctr':'m-pos').textContent=m==='ctr'?last+'%':last;
    $(m==='clicks'?'d-clicks':m==='impressions'?'d-impr':m==='ctr'?'d-ctr':'d-pos').textContent=(delta>=0?'+':'')+delta.toFixed(m==='ctr'||m==='position'?2:0)+(m==='ctr'?'%':'');
  });
}

function renderSparklines(){
  const metrics=['clicks','impressions','ctr','position'];
  metrics.forEach(m=>{
    const canvas=$(m==='clicks'?'spark-clicks':m==='impressions'?'spark-impr':m==='ctr'?'spark-ctr':'spark-pos');
    if(sparkCharts[m]) sparkCharts[m].destroy();
    sparkCharts[m]=new Chart(canvas.getContext('2d'),{
      type:'line',
      data:{labels:Array.from({length:state.homeData[m].length},(_,i)=>i+1),datasets:[{data:state.homeData[m],borderColor:'#1a73e8',backgroundColor:'rgba(26,115,232,0.1)',tension:0.3,pointRadius:0}]},
      options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{display:false},y:{display:false}}}
    });
  });
}

function renderHomeChart(selectedMetric=null){
  const metric=selectedMetric||'clicks';
  const ctx=$('homeChart').getContext('2d');
  if(homeChart) homeChart.destroy();
  const data=state.homeData[metric];
  const labels=Array.from({length:data.length},(_,i)=>`Day ${i+1}`);
  homeChart=new Chart(ctx,{
    type:'line',
    data:{labels,datasets:[{label:metric.charAt(0).toUpperCase()+metric.slice(1),data,borderColor:'#1a73e8',tension:0.3}]},
    options:{responsive:true,plugins:{legend:{position:'top'}}}
  });
}

function selectMetric(metric){
  renderHomeChart(metric);
}

function refresh(){
  generatePerformance(parseInt($('range').value,10));
  updateCards();
  renderSparklines();
  renderHomeChart();
  $('homeBalance').textContent=formatNaira(state.wallet.balance);
}

$('range').addEventListener('change',refresh);
$('refreshBtn').addEventListener('click',refresh);

refresh();
</script>
</body>
</html>
